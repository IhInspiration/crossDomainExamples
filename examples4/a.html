<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>postMessage方式跨域</title>
</head>
<body>
    <iframe id="iframe" src="//jackwang.com/kuayu/examples4/b.html"></iframe>
    <script>
        var iframe = document.getElementById('iframe');

        iframe.onload = function() {
            var data = {
                name: 'jackwang'
            };

            iframe.contentWindow.postMessage(JSON.stringify(data), 'http://jackwang.com')
        };

        window.addEventListener('message', function(e) {
            debugger;
            console.log('data from jackwang.com: ' + e.data);
        }, false);
    </script>
</body>
</html>